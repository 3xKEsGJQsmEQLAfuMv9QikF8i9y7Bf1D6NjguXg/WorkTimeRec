<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WorkTimeRec"
        xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero2"
        x:Class="WorkTimeRec.Views.MainWindow"
        mc:Ignorable="d"
        Title="作業時間記録"
        Height="500"
        Width="600"
        ResizeMode="CanResizeWithGrip"
        MinWidth="300"
        MinHeight="300"
        Loaded="Window_Loaded"
        Closing="Window_Closing"
        KeyDown="Window_KeyDown">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,1"
                                 EndPoint="1,0">
                <GradientStop Color="#4F4F4F"
                              Offset="0" />
                <GradientStop Color="#666666"
                              Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>

        <Border BorderBrush="DodgerBlue"
                BorderThickness="1"
                Grid.RowSpan="3" />

        <StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <ComboBox x:Name="WorkContent1"
                          IsEditable="True" />
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <ToggleButton x:Name="StartButton1"
                                  Content="開始"
                                  ToolTip="Ctrl + 1"
                                  Click="StartToggleButton_Click" />
                </StackPanel>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <ComboBox x:Name="WorkContent2"
                          IsEditable="True" />
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <ToggleButton x:Name="StartButton2"
                                  Content="開始"
                                  ToolTip="Ctrl + 2"
                                  Click="StartToggleButton_Click" />
                </StackPanel>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <ComboBox x:Name="WorkContent3"
                          IsEditable="True" />
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <ToggleButton x:Name="StartButton3"
                                  Content="開始"
                                  ToolTip="Ctrl + 3"
                                  Click="StartToggleButton_Click" />
                </StackPanel>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <ComboBox x:Name="WorkContent4"
                          IsEditable="True" />
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <ToggleButton x:Name="StartButton4"
                                  Content="開始"
                                  ToolTip="Ctrl + 4"
                                  Click="StartToggleButton_Click" />
                </StackPanel>
            </Grid>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <ComboBox x:Name="WorkContent5"
                          IsEditable="True" />
                <StackPanel Orientation="Horizontal"
                            Grid.Column="1">
                    <ToggleButton x:Name="StartButton5"
                                  Content="開始"
                                  ToolTip="Ctrl + 5"
                                  Click="StartToggleButton_Click" />
                </StackPanel>
            </Grid>

            <CheckBox x:Name="IsParallelWork"
                      Content="並行作業をする(_P)"
                      IsChecked="False" />
        </StackPanel>

        <ListView x:Name="TimeList"
                  Grid.Row="1"
                  Margin="10"
                  FontFamily="Cascadia Code, Consolas"
                  ItemsSource="{Binding Mode=OneWay}"
                  Foreground="White"
                  Background="Gray"
                  BorderThickness="0"
                  d:Opacity="0.9"
                  Opacity="0.1"
                  SizeChanged="TimeList_SizeChanged">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="開始"
                                    Width="75">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="開始"
                                     Converter="{StaticResource DateTimeConv}" />
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>

                    <GridViewColumn Header="終了"
                                    Width="75">
                        <GridViewColumn.DisplayMemberBinding>
                            <Binding Path="終了"
                                     Converter="{StaticResource DateTimeConv}" />
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>

                    <GridViewColumn Header="作業時間"
                                    Width="75">
                        <GridViewColumn.DisplayMemberBinding>
                            <MultiBinding Converter="{StaticResource TimeSpanConv}">
                                <Binding Path="終了" />
                                <Binding Path="作業時間" />
                            </MultiBinding>
                        </GridViewColumn.DisplayMemberBinding>
                    </GridViewColumn>

                    <GridViewColumn Header="作業内容"
                                    Width="250"
                                    DisplayMemberBinding="{Binding 作業内容}" />
                </GridView>
            </ListView.View>
        </ListView>

        <StackPanel Orientation="Horizontal"
                    Grid.Row="2"
                    HorizontalAlignment="Right">
            <Button x:Name="CloseButton"
                    Content="閉じる"
                    Style="{StaticResource CommandButtonStyle}"
                    Click="CloseButton_Click" />
        </StackPanel>
    </Grid>
</Window>
